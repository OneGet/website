<?xml version="1.0" encoding="UTF-8"?>

<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->

<configuration>

<!--
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Redirect to https">
          <match url="(.*)"/>
          <conditions>
            <add input="{HTTPS}" pattern="Off"/>
            <add input="{REQUEST_METHOD}" pattern="^get$|^head$" />
          </conditions>
          <action type="Redirect" url="https://{HTTP_HOST}/{R:1}"/>
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
-->

    <location path="nuget.exe">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/nuget-anycpu-2.8.3.3.exe" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>
<!--
    <location path="oneget.zip">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/oneget.zip" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>
-->
    <location path="nuget-anycpu.exe">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/nuget-anycpu-2.8.3.3.exe" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>

    <location path="nuget-anycpu-2.8.1.0.exe">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/nuget-anycpu-2.8.1.0.exe" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>

    <location path="nuget-anycpu-2.8.3.3.exe">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/nuget-anycpu-2.8.3.3.exe" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>

    <location path="oneget-bootstrap.swidtag">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/oneget-bootstrap.swidtag" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>

    <location path="nuget.swidtag">
        <system.webServer>
            <httpRedirect enabled="true" destination="https://oneget.blob.core.windows.net/providers/nuget.swidtag" exactDestination="true" httpResponseStatus="Found" />
        </system.webServer>
    </location>


    <system.webServer>
    
        <httpRedirect enabled="true" httpResponseStatus="Found" exactDestination="true" childOnly="true">
            <add wildcard="/*.zip" destination="https://oneget.blob.core.windows.net/providers/$0.zip" />
            <add wildcard="/*.exe" destination="https://oneget.blob.core.windows.net/providers/$0.exe" />
            <add wildcard="*" destination="https://github.com/oneget/oneget" />
        </httpRedirect>
        <httpErrors errorMode="Custom">
            <remove statusCode="403" subStatusCode="-1" />
            <remove statusCode="404" subStatusCode="-1" />
            <error statusCode="404" prefixLanguageFilePath="" path="https://github.com/oneget/oneget" responseMode="Redirect" />
            <error statusCode="403" prefixLanguageFilePath="" path="https://github.com/oneget/oneget" responseMode="Redirect" />
        </httpErrors>
    
    <!--   <httpRedirect enabled="true" destination="https://github.com/oneget/oneget" exactDestination="false" childOnly="true" httpResponseStatus="Found" /> -->
    </system.webServer>


</configuration>
